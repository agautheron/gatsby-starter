{"version":3,"sources":["webpack:///./src/pages/interests.tsx"],"names":["withLayout","props","data","tags","group","posts","edges","pathname","location","root","Math","ceil","totalCount","menuItems","find","e","withPrefix","path","console","log","Posts","map","node","frontmatter","timeToRead","slug","fields","excerpt","avatar","author","children","cover","get","Group","Avatar","src","fixed","srcSet","Content","Author","style","fontWeight","id","Metadata","margin","updatedDate","Description","to","key","paddingBottom","as","Link","image","header","title","icon","name","vertical","padded","centered","pageQuery"],"mappings":"4PAmHeA,uBA5FE,SAACC,GACHA,EAAMC,KAAKC,KAAKC,MAA7B,IACMC,EAAQJ,EAAMC,KAAKG,MAAMC,MACvBC,EAAaN,EAAMO,SAAnBD,SAEFE,GADYC,KAAKC,KAAKV,EAAMC,KAAKG,MAAMO,WAAa,IAC7CC,IAAUC,MAAK,SAAAC,GAAC,OAAEC,qBAAWD,EAAEE,OAASV,MAMrDW,QAAQC,IAAIV,GAEZ,IAAMW,EAEFf,EAAMgB,KAAI,YAAsC,IAAnCC,EAAmC,EAAnCA,KACHC,EAAuDD,EAAvDC,YAAaC,EAA0CF,EAA1CE,WAAsBC,EAAoBH,EAA9BI,OAAUD,KAAQE,EAAYL,EAAZK,QAC7CC,EAASL,EAAYM,OAAOD,OAAOE,SAAS,GAC5CC,EAAQC,cAAIT,EAAa,yBAA0B,IAGvD,gBAAC,IAAQU,MAAT,KACE,gBAAC,IAAD,KACE,gBAAC,IAAQC,OAAT,CACEC,IAAKP,EAAOQ,MAAMD,IAClBE,OAAQT,EAAOQ,MAAMC,SAEvB,gBAAC,IAAQC,QAAT,KACE,gBAAC,IAAQC,OAAT,CAAgBC,MAAO,CAAEC,WAAY,MAClClB,EAAYM,OAAOa,IAEtB,gBAAC,IAAQC,SAAT,CAAkBH,MAAO,CAAEI,OAAQ,IAChCrB,EAAYsB,YADf,MAC+BrB,EAD/B,gBASN,gBAAC,IAAKsB,YAAN,KACGnB,EACD,2BACA,gBAAC,OAAD,CAAMoB,GAAItB,GAAV,eAGF,OACE,uBAAKuB,IAAKvB,EAAMe,MAAO,CAAES,cAAe,QAC9B,gBAAC,IAAD,CAAMC,GAAIC,OACVJ,GAAItB,EACJ2B,MAAOrB,EACPsB,OAAQ9B,EAAY+B,YAexC,OACE,gBAAC,IAAD,KAEE,gBAAC,IAAD,CAAWC,KAAM9C,EAAK8C,KAAMD,MAAO7C,EAAK+C,KAAMH,OAAO,KAGrD,gBAAC,IAAD,CAASI,UAAQ,GAIf,gBAAC,IAAD,CAAMC,QAAM,EAACC,UAAQ,GAEhBvC,QAgBN,IAAMwC,EAAY","file":"component---src-pages-interests-tsx-a5ce74971687fe81a1a7.js","sourcesContent":["import * as React from \"react\";\r\nimport { Link ,withPrefix} from \"gatsby\";\r\nimport { StaticQuery, graphql } from \"gatsby\";\r\nimport { Header, Grid, Card, List, Container, Feed, Segment, Comment } from \"semantic-ui-react\";\r\nimport { MarkdownRemarkConnection, ImageSharp } from \"../graphql-types\";\r\nimport BlogTitle from \"../components/BlogTitle\";\r\nimport TagsCard from \"../components/TagsCard/TagsCard\";\r\nimport BlogPagination from \"../components/BlogPagination/BlogPagination\";\r\nimport { get } from \"lodash\";\r\nimport {withLayout, LayoutProps, menuItems, subMenuItems} from \"../components/Layout\";\r\nimport { MarkdownRemark } from \"../graphql-types\";\r\nimport { isNull } from \"util\";\r\n\r\ninterface BlogProps extends LayoutProps {\r\n  data: {\r\n    tags: MarkdownRemarkConnection;\r\n    posts: MarkdownRemarkConnection;\r\n  };\r\n  pageContext: {\r\n    tag?: string; // only set into `templates/tags-pages.tsx`\r\n  };\r\n}\r\n\r\nconst BlogPage = (props: BlogProps) => {\r\n  const tags = props.data.tags.group;\r\n  const posts = props.data.posts.edges;\r\n  const { pathname } = props.location;\r\n  const pageCount = Math.ceil(props.data.posts.totalCount / 10);\r\n  const root = menuItems.find(e=>withPrefix(e.path) == pathname) ;\r\n  /*if(isNull(root)){\r\n    const root = subMenuItems.find(function(element) {\r\n      return pathname.includes(element.path)});\r\n  }\r\n  */\r\n  console.log(root)\r\n  // TODO export posts in a proper component\r\n  const Posts = (\r\n    /* <Container>*/\r\n      posts.map(({ node }: {node: MarkdownRemark}) => {\r\n        const { frontmatter, timeToRead, fields: { slug }, excerpt } = node;\r\n        const avatar = frontmatter.author.avatar.children[0] as ImageSharp;\r\n        const cover = get(frontmatter, \"image.children.0.fixed\", {});\r\n\r\n        const extra = (\r\n          <Comment.Group>\r\n            <Comment>\r\n              <Comment.Avatar\r\n                src={avatar.fixed.src}\r\n                srcSet={avatar.fixed.srcSet}\r\n              />\r\n              <Comment.Content>\r\n                <Comment.Author style={{ fontWeight: 400 }}>\r\n                  {frontmatter.author.id}\r\n                </Comment.Author>\r\n                <Comment.Metadata style={{ margin: 0 }}>\r\n                  {frontmatter.updatedDate} - {timeToRead} min read\r\n              </Comment.Metadata>\r\n              </Comment.Content>\r\n            </Comment>\r\n          </Comment.Group>\r\n        );\r\n\r\n        const description = (\r\n          <Card.Description>\r\n            {excerpt}\r\n            <br />\r\n            <Link to={slug}>Read moreâ€¦</Link>\r\n          </Card.Description>\r\n        );\r\n          return (\r\n            <div key={slug} style={{ paddingBottom: \"1em\" }}>\r\n                      <Card as={Link}\r\n                      to={slug}\r\n                      image={cover}\r\n                      header={frontmatter.title} /></div>\r\n            \r\n                               /*}   <Card key={slug}\r\n                        fluid\r\n                        image={cover}\r\n                        header={frontmatter.title}\r\n                      \r\n                        description={description}\r\n                      />\r\n                    */\r\n        );\r\n      })\r\n   /* </Container>*/\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      {/* Title */}\r\n      <BlogTitle icon={root.icon} title={root.name} header=\"\"/>\r\n\r\n      {/* Content */}\r\n      <Segment vertical>\r\n       {/*} <Grid padded style={{ justifyContent: \"space-around\" }}> \r\n          <div style={{ maxWidth: 600 }}> */}\r\n          \r\n        <Grid padded centered>\r\n          {/*<div style={{ maxWidth: 600 }}> */}\r\n            {Posts}\r\n        {/*     <Segment vertical textAlign=\"center\">\r\n              <BlogPagination Link={Link} pathname={pathname} pageCount={pageCount} />\r\n            </Segment>\r\n         </div>\r\n        }  <div>\r\n            <TagsCard Link={Link} tags={tags} tag={props.pathContext.tag} />\r\n  </div> */}\r\n        </Grid>\r\n      </Segment>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withLayout(BlogPage);\r\n\r\nexport const pageQuery = graphql`\r\nquery PageVisites {\r\n  # Get tags\r\n  tags: allMarkdownRemark(filter: {frontmatter: {draft: {ne: true}}}) {\r\n    group(field: frontmatter___tags) {\r\n      fieldValue\r\n      totalCount\r\n    }\r\n  }\r\n\r\n  # Get posts\r\n  posts: allMarkdownRemark(\r\n    sort: { order: DESC, fields: [frontmatter___updatedDate] },\r\n    filter: {\r\n      frontmatter: { draft: { ne: true } },\r\n      fileAbsolutePath: { regex: \"/interests/\" }\r\n    },\r\n    limit: 10\r\n  ) {\r\n    totalCount\r\n    edges {\r\n      node {\r\n        excerpt\r\n        timeToRead\r\n        fields {\r\n          slug\r\n        }\r\n        frontmatter {\r\n          category\r\n          title\r\n          header\r\n          updatedDate(formatString: \"DD MMMM, YYYY\")\r\n          image {\r\n          \tchildren {\r\n              ... on ImageSharp {\r\n                fixed(width: 300, height: 300) {\r\n                  src\r\n                  srcSet\r\n                }\r\n              }\r\n            }\r\n          }\r\n          author {\r\n            id\r\n            avatar {\r\n              children {\r\n                ... on ImageSharp {\r\n                  fixed(width: 35, height: 35) {\r\n                    src\r\n                    srcSet\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n`;\r\n"],"sourceRoot":""}